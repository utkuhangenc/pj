
---
title: "Exploring the Latest Changes in the CBRT Policy Rate Using EVDS R"
author: "Utkuhan Genc"
date: "June 13, 2018"
output: html_document
---
This brief analysis examines tha latest monetary policies of the Central Bank of the Republic of Turkey.The data that was used in this analysis can be seen at the [official database for CBRT.](https://evds2.tcmb.gov.tr/index.php?/evds/serieMarket)
To get the data from this website I used [EVDS R package created by Algopoly.](https://github.com/algopoly/EVDS) 

## How to install EVDS R package?
To install the EVDS package I used in this analysis, you can use devtools to download it. After downloading this package you also need to sign up at EVDS website to get your distinct API Key. This key will help you get the any data you want from the database, by using the package. 
```{r , eval=FALSE}
devtools::install_github("algopoly/EVDS")
```

We need to install some packages to get and analyze the data. 
```{r message=FALSE, warning=FALSE, paged.print=FALSE}
devtools::install_github("algopoly/EVDS")
library(tidyverse)
library(EVDS)
library(lubridate)
library(zoo)
set_evds_key("HGyBjFFhNG")
```  

## Preparing Data 

By using get_series function we can get the data we want from the EVDS website. As seen, the function takes 3 arguments: Series names, start date and end date.

TP.PY.P02.LON is used to get the "(LON) TCMB Kotasyonlari SATIS (%)(Geç Likidite Penceresi) - Düzey" which corresponds "the late liquidity window interest rates" . Another variable in our series argument is TP.APIFON4 is used to get the "TCMB Agirlikli Ortalama Fonlama Maliyeti - Düzey" which corresponds "CBRT's weighted average funding cost". The start date and end date lets me pick whenever time I want to get these values from. One thing to mention is the "TCMB Agirlikli Ortalama Fonlama Maliyeti" is not the exact policy interest rate value because such value does not exist in EVDS website. I double checked with EVDS team about this and they directed me to the [CBRT website for corresponding table.](http://www.tcmb.gov.tr/wps/wcm/connect/TR/TCMB+TR/Main+Menu/Temel+Faaliyetler/Para+Politikasi/Merkez+Bankasi+Faiz+Oranlari/1+Hafta+Repo) The CBRT'S weighted average funding cost (TCMB agirlikli ortalama fonlama maliyeti) is the data I used in this case. This data takes the average of the policy interest rate and the late liquidity window interest rate. Furthermore I used the polici interest rate data from TCMB's website by manually creating a cvs file. I also performed some cleaning on the data. First, I transformed the data from list to data frame so it will be easier to work with. Also I changed dates from character to date so we can graph the data. Aside from that I renamed the variable names to make it easier to distinguish them. Finally, I combined everything in one dataset and do my analysis on this data set.



```{r}
# Get data on some series
df <- get_series(series = c("TP.PY.P02.LON","TP.APIFON4", "TP.DK.USD.A","TP.DK.EUR.A"),start_date = "01-01-2002", end_date = "11-06-2018")

#Creating a date frame for policy interest rate
policy <- read.csv("interest.csv")  %>% 
  mutate(Date = dmy(Tarih))

#Constructing a new table with Policy Interest Rate 
df1 <- df$items %>%
  select(-UNIXTIME)%>%
  na.omit() %>%
  mutate(Date = dmy(Tarih),Late_Liqudity_Interest_Rate = TP_PY_P02_LON, Weighted_Average_Funding_Cost = TP_APIFON4, Dolar_Rate = TP_DK_USD_A, Euro_Rate = TP_DK_EUR_A) 
df2 <- left_join(df1, policy, by = "Date") %>% mutate(Policy_Interest_Rate = na.locf(Policy_Interest_Rate,na.rm = FALSE))
  

```

To understand the relationship between the late liquidity window interest rates and o-policy interest rate I created a plot where I can see the positive correlation between the values. I used logaritmic scale on y axis to show the relationship between interest rates, USD/TL and EUR/TL.  

## Plots

```{r}
df2 %>% 
  ggplot() + 
  geom_line(aes(x = Date, y = Late_Liqudity_Interest_Rate, color = "Late Liqudity Interest Rate"),size=1)+
  geom_line(aes(x = Date, y = Weighted_Average_Funding_Cost ,color = "Weighted Average Funding Cost"), size = 1) +
  geom_line(aes(x = Date, y = Policy_Interest_Rate, color = "Policy Interest Rate"), size =1) + 
  geom_line(aes(x = Date, y = Dolar_Rate, color = "Dolar_Rate"),size = 1)+
  geom_line(aes(x = Date, y = Euro_Rate, color = "Euro_Rate"), size = 1)+
  xlab("Date") + 
  ylab("Interest Rate") + 
  ggtitle("The Relationship Between Late Liqudity Interest Rate and Policy Interest Rate") +
  theme_bw()+
  scale_y_continuous(trans='log2')+
  theme(legend.position="bottom" , legend.background = element_rect(fill="lightblue", size=0.5, linetype="solid"))+
  scale_colour_manual("",values = c("Late Liqudity Interest Rate" = "red","Weighted Average Funding Cost" = "blue", "Policy Interest Rate" = "darkgreen" , "Dolar_Rate" = "gray", Euro_Rate = "brown" ))
  
```  

## Analysis 


As seen from the graph there are two big jumps on the late liqudity windown interest rate. The first big jump on the late liqudity window interet rate is at the end of the first month of 2014. Aside from this increase there is also a significant change in policy interest rate. This was a decision by CBRT to stabilize the currency rates. We can see the effects of this action as drops on Dolar and Euro exchange rates. Another big jump on policy interest rate and the late liqudity window interest rate is because the recent increase of interests by CBRT. This action was taken to make sure to stabilize the Turkish Lira's value however as it can be seen from the graph this action was taken so late. Even though the currency rates were increasing in a fast pace, CBRT waited for so long to take action. That's why there is only a small change in currency rates. However, further reasarch has to be done on this topic. Also the correlation between the late liqudity window interest rate and the weighted average funding cost is another interesting relationship to look at. There seems to be a positive correlation between those two values. Another interesting thing to point out is the latest late liqudity window interest rate announced by CBRT on June 8th 2018 is as high as 20.75 which is the highest value since 2009.

 
